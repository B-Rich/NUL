env = {"CFLAGS" : "-m32 -Os" + 
       " -ffunction-sections -fstrict-aliasing -fno-exceptions -fshort-enums -fomit-frame-pointer" +
       " --param max-inline-insns-single=100 -mregparm=3 -minline-all-stringops  -g -nostdinc" +
       " -Wextra -Waggregate-return -Wattributes -Wcast-align -Wdeprecated-declarations -Wmissing-noreturn -Wpacked -Wshadow" +
       " -Wstack-protector -Wstrict-aliasing -Wswitch -Wswitch-default -Wswitch-enum -Wsystem-headers -Wunsafe-loop-optimizations" +
       " -Wvolatile-register-var -Wdisabled-optimization -Wformat -Wreturn-type -Wuninitialized -Wunused",
       "LDFLAGS" : "-N -m elf_i386 -gc-sections"}

goals.append(
    NulApp("example",
           env = env,
           include = ["../", "../../include/", "../../include/libc", "/usr/lib/gcc/i486-linux-gnu/4.3.4/include"],
           linkfile= "roottask.ld",
           src     = ["start.S", "main.c"]))
